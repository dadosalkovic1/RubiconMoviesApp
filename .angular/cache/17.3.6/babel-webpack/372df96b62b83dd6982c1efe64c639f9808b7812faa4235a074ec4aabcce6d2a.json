{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./app.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./app.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { trigger, transition, style, animate } from '@angular/animations';\nlet AppComponent = class AppComponent {\n  constructor(router, route) {\n    this.router = router;\n    this.route = route;\n    this.currentRoute = '';\n    this.lastSearchQuery = '';\n    this.showInput = true;\n  }\n  prepareRoute(outlet) {\n    return outlet && outlet.activatedRouteData && outlet.activatedRouteData.animation;\n  }\n  ngOnInit() {\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\n      this.currentRoute = event.urlAfterRedirects;\n      if (this.currentRoute.includes('show-details') || this.currentRoute.includes('movie-details')) {\n        this.showInput = false;\n      } else {\n        this.showInput = true;\n      }\n      if ((this.currentRoute === '/movies' || this.currentRoute === '/shows') && this.lastSearchQuery) {\n        if (this.currentRoute === '/movies') {\n          this.inputValue = this.lastSearchQuery;\n          this.router.navigate(['/search-results'], {\n            queryParams: {\n              q: this.inputValue\n            }\n          });\n        } else if (this.currentRoute === '/shows') {\n          this.inputValue = this.lastSearchQuery;\n          this.router.navigate(['/search-result-shows'], {\n            queryParams: {\n              q: this.inputValue\n            }\n          });\n        }\n      }\n    });\n  }\n  onSearchInput(event) {\n    clearTimeout(this.timer);\n    const query = event.target.value;\n    this.inputValue = query;\n    this.lastSearchQuery = query;\n    this.timer = setTimeout(() => {\n      if (query.length >= 3) {\n        if (this.currentRoute === '/movies') {\n          this.router.navigate(['/search-results'], {\n            queryParams: {\n              q: query\n            }\n          });\n        } else if (this.currentRoute === '/shows') {\n          this.router.navigate(['/search-result-shows'], {\n            queryParams: {\n              q: query\n            }\n          });\n        }\n      } else if (query.length < 3) {\n        if (this.currentRoute.includes('/search-results')) {\n          this.router.navigate(['/movies']);\n        } else if (this.currentRoute.includes('/search-result-shows')) {\n          this.router.navigate(['/shows']);\n        }\n      }\n    }, 1000);\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: Router\n  }, {\n    type: ActivatedRoute\n  }];\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  template: __NG_CLI_RESOURCE__0,\n  animations: [trigger('routerAnimation', [transition(':enter', [style({\n    opacity: 0\n  }), animate('1000ms', style({\n    opacity: 1\n  }))]), transition(':leave', [animate('1000ms', style({\n    opacity: 0\n  }))])])],\n  styles: [__NG_CLI_RESOURCE__1]\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"names":["Component","Router","NavigationEnd","ActivatedRoute","filter","trigger","transition","style","animate","AppComponent","constructor","router","route","currentRoute","lastSearchQuery","showInput","prepareRoute","outlet","activatedRouteData","animation","ngOnInit","events","pipe","event","subscribe","urlAfterRedirects","includes","inputValue","navigate","queryParams","q","onSearchInput","clearTimeout","timer","query","target","value","setTimeout","length","_","__decorate","selector","template","__NG_CLI_RESOURCE__0","animations","opacity"],"sources":["C:\\Users\\Administrator\\Desktop\\RubiconMovieApp\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, NavigationEnd, ActivatedRoute,RouterOutlet } from '@angular/router';\r\nimport { filter } from 'rxjs/operators';\r\nimport { trigger, transition, style, animate } from '@angular/animations';\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css'],\r\n  animations: [\r\n    trigger('routerAnimation', [\r\n      transition(':enter', [\r\n        style({ opacity: 0 }),\r\n        animate('1000ms', style({ opacity: 1 }))\r\n      ]),\r\n      transition(':leave', [\r\n        animate('1000ms', style({ opacity: 0 }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class AppComponent implements OnInit {\r\n\r\n  currentRoute: string = '';\r\n  lastSearchQuery: string = '';\r\n  showInput: boolean = true; \r\n  inputValue: any;\r\n  timer: any; \r\n\r\n  constructor(private router: Router, private route: ActivatedRoute) { }\r\n  prepareRoute(outlet: RouterOutlet) {\r\n    return outlet && outlet.activatedRouteData && outlet.activatedRouteData.animation;\r\n  }\r\n  ngOnInit() {\r\n    \r\n    this.router.events.pipe(\r\n      filter((event): event is NavigationEnd => event instanceof NavigationEnd)\r\n    ).subscribe((event: NavigationEnd) => {\r\n      this.currentRoute = event.urlAfterRedirects;\r\n\r\n      if (this.currentRoute.includes('show-details') || this.currentRoute.includes('movie-details')) {\r\n        this.showInput = false;\r\n      } else {\r\n        this.showInput = true;\r\n      }\r\n\r\n     \r\n      if ((this.currentRoute === '/movies' || this.currentRoute === '/shows') && this.lastSearchQuery) {\r\n        if (this.currentRoute === '/movies') {\r\n          this.inputValue = this.lastSearchQuery;\r\n          this.router.navigate(['/search-results'], { queryParams: { q: this.inputValue } });\r\n        } else if (this.currentRoute === '/shows') {\r\n          this.inputValue = this.lastSearchQuery;\r\n          this.router.navigate(['/search-result-shows'], { queryParams: { q: this.inputValue } });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onSearchInput(event: any) {\r\n    clearTimeout(this.timer); \r\n\r\n    const query = event.target.value;\r\n    this.inputValue = query;\r\n    this.lastSearchQuery = query;\r\n\r\n   \r\n    this.timer = setTimeout(() => {\r\n      if (query.length >= 3) {\r\n        if (this.currentRoute === '/movies') {\r\n          this.router.navigate(['/search-results'], { queryParams: { q: query } });\r\n        } else if (this.currentRoute === '/shows') {\r\n          this.router.navigate(['/search-result-shows'], { queryParams: { q: query } });\r\n        \r\n        }\r\n      } else if (query.length < 3) {\r\n        if (this.currentRoute.includes('/search-results')) {\r\n          this.router.navigate(['/movies']);\r\n        } else if (this.currentRoute.includes('/search-result-shows')) {\r\n          this.router.navigate(['/shows']);\r\n        }\r\n      }\r\n    }, 1000); \r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}